from django.core.files import File
from django.core.management.base import BaseCommand
from core.models import Sprite
from portfolio.models import BridalPortfolio


class Command(BaseCommand):
    help = 'Clears and populates the database with the initial portfolio images'

    def handle(self, *args, **options):
        BridalPortfolio.objects.all().delete()
        for piece in self.get_portfolio_json_data():
            photo = piece.get('imgfile')
            position = piece.get('position')
            if photo[-3:] not in ['png', 'jpg'] and photo[-4:] != 'jpeg':
                continue
            f = open('portfolio/management/commands/img/' + photo, 'r')
            f.seek(0)
            BridalPortfolio.objects.create(imgfile=File(f), position=position)
        Sprite.objects.get(name='bridal_portfolio').generate()

    def get_portfolio_json_data(self):
        return [{
            "imgfile": "toronto-wedding-photography-liberty-village-8_dI11BRd.jpg",
            "position": 14,
        }, {
            "imgfile": "a6_uxdmQer.jpg",
            "position": 96,
        }, {
            "imgfile": "550823_10151276083339993_485742568_n_FwR9vrc.jpg",
            "position": 98,
        }, {
            "imgfile": "as2_J1qWBmQ.jpg",
            "position": 98,
        }, {
            "imgfile": "a2_Yh7OSmV.jpg",
            "position": 35,
        }, {
            "imgfile": "a5_si6nIiO.jpg",
            "position": 97,
        }, {
            "imgfile": "c_kKTgxdV.png",
            "position": 98,
        }, {
            "imgfile": "2big_2frh0xA.jpeg",
            "position": 7,
        }, {
            "imgfile": "10600597_10201899656446993_1689654553044311047_n.jpg",
            "position": 24,
        }, {
            "imgfile": "edita.jpg",
            "position": 11,
        }, {
            "imgfile": "47972_10151536491463291_2000356080_n_X5cPzcm.jpg",
            "position": 99,
        }, {
            "imgfile": "edita4.jpg",
            "position": 97,
        }, {
            "imgfile": "Gold_0020_KXM895S.jpg",
            "position": 46,
        }, {
            "imgfile": "16big_RbdiDL7.jpeg",
            "position": 89,
        }, {
            "imgfile": "555398_10151546371579108_489299204_n_t7tjRS3.jpg",
            "position": 56,
        }, {
            "imgfile": "155238_10150097596278000_7010914_n_KWjwuoR.jpg",
            "position": 57,
        }, {
            "imgfile": "a1_EjdBboY.jpg",
            "position": 58,
        }, {
            "imgfile": "705138_10100263462502710_1470397431_o_kb7UqnD.jpg",
            "position": 48,
        }, {
            "imgfile": "a_Tx4vmxJ.png",
            "position": 43,
        }, {
            "imgfile": "431074_2603043129293_1044854014_n_0gM43pg.jpg",
            "position": 20,
        }, {
            "imgfile": "296405_1951155272504_1350621273_n_SK8fdj5.jpg",
            "position": 4,
        }, {
            "imgfile": "elize_wf7qrsD.png",
            "position": 74,
        }, {
            "imgfile": "298860_2021044500122_1358512323_n_TQtnhkh.jpg",
            "position": 97,
        }, {
            "imgfile": "a4_Wl3NPPW.jpg",
            "position": 39,
        }, {
            "imgfile": "10612925_10201905641516616_8443117739851139912_n.jpg",
            "position": 32,
        }, {
            "imgfile": "20big_kygYQ0L.png",
            "position": 96,
        }, {
            "imgfile": "1487696_10153510310365034_1070172757_o_0Z5q5yG.jpg",
            "position": 98,
        }, {
            "imgfile": "66124_4017640733349_1873161167_n_3vGpzXL.jpg",
            "position": 96,
        }, {
            "imgfile": "1401993_10153515197125034_294295662_o_6GlHIT5.jpg",
            "position": 99,
        }, {
            "imgfile": "CrisitnaChristopher-254_sDppQBp.jpg",
            "position": 91,
        }, {
            "imgfile": "genevieve_eFk8CNT.jpg",
            "position": 99,
        }, {
            "imgfile": "kelley_XmLzoni.jpg",
            "position": 96,
        }, {
            "imgfile": "24030_1223541602617_3006428_n_3kKojxl.jpg",
            "position": 55,
        }, {
            "imgfile": "duo_good2_k4rN5M1.png",
            "position": 99,
        }, {
            "imgfile": "e_nSWFANt.png",
            "position": 36,
        }, {
            "imgfile": "8593_4719221592432_1419348463_n_hZ54uYG.jpg",
            "position": 50,
        }, {
            "imgfile": "baily2_JhSLROb.jpg",
            "position": 53,
        }, {
            "imgfile": "a3_Wx5Dea8.jpg",
            "position": 54,
        }, {
            "imgfile": "1521722_10202793579024675_713281936_n_RUQ3GUy.jpg",
            "position": 90,
        }, {
            "imgfile": "1_r2HavJb.png",
            "position": 87,
        }, {
            "imgfile": "b_hOhJaPu.png",
            "position": 23,
        }, {
            "imgfile": "0103__Liat_and_Yossi_UBDCr1C.jpg",
            "position": 49,
        }, {
            "imgfile": "264266_3443168491902_1700497258_n_JVaIJSN.jpg",
            "position": 22,
        }, {
            "imgfile": "971625_4426886684826_1571004274_n_CXmcQuB.jpg",
            "position": 92,
        }, {
            "imgfile": "_12A6653_P9hIJjH.jpg",
            "position": 9,
        }, {
            "imgfile": "0065__Liat_and_Yossi_h7fjEm9.jpg",
            "position": 51,
        }, {
            "imgfile": "DUO_GOOD3_etcH3Iy.png",
            "position": 98,
        }, {
            "imgfile": "IMG_20131014_154659_bX9J2Kh.jpg",
            "position": 68,
        }, {
            "imgfile": "281382_1768758752705_4991082_n_3fv912k.jpg",
            "position": 47,
        }, {
            "imgfile": "1077721_503744409699838_1704492851_o_HB9Ruc6.jpg",
            "position": 71,
        }, {
            "imgfile": "0060__Liat_and_Yossi_EST15oO.jpg",
            "position": 96,
        }, {
            "imgfile": "unnamed4_ki9Mxtn.jpg",
            "position": 64,
        }, {
            "imgfile": "644594_10151432500503718_375295084_n_2ueRl4l.jpg",
            "position": 97,
        }, {
            "imgfile": "k1_kq7HPam.png",
            "position": 26,
        }, {
            "imgfile": "545201_2682454194520_99313813_n_eFbnjdl.jpg",
            "position": 67,
        }, {
            "imgfile": "60390_503743949699884_2097487186_n_wIg0KdX.jpg",
            "position": 70,
        }, {
            "imgfile": "10big_NRUpMff.png",
            "position": 75,
        }, {
            "imgfile": "IMG_20131015_174324_Bv5s59g.jpg",
            "position": 85,
        }, {
            "imgfile": "10368233_10201899648126785_2076153325246534472_n.jpg",
            "position": 84,
        }, {
            "imgfile": "edita3.jpg",
            "position": 99,
        }, {
            "imgfile": "d_Yj5stnh.png",
            "position": 98,
        }, {
            "imgfile": "7big_bD3QpzX.png",
            "position": 95,
        }, {
            "imgfile": "CrisitnaChristopher-225_uWMeuBB.jpg",
            "position": 97,
        }, {
            "imgfile": "steph_b_VVyeETN.jpg",
            "position": 98,
        }, {
            "imgfile": "23big_5DLLqWZ.png",
            "position": 96,
        }, {
            "imgfile": "elize2_b6wWSzM.png",
            "position": 99,
        }, {
            "imgfile": "1383292_10201899673047408_7732814255531948823_n.jpg",
            "position": 80,
        }, {
            "imgfile": "2_YBbknxw.png",
            "position": 83,
        }, {
            "imgfile": "as_ZYfiwqj.jpg",
            "position": 99,
        }, {
            "imgfile": "a7_GU0R0ps.jpg",
            "position": 98,
        }, {
            "imgfile": "1459973_10153514653545034_418912671_n_OfmcBBu.jpg",
            "position": 97,
        }, {
            "imgfile": "1476065_616616531727733_2075681822_n_Y2SsqFH.png",
            "position": 88,
        }, {
            "imgfile": "1456807_10153514653720034_398424871_n_Gpxvftj.jpg",
            "position": 86,
        }, {
            "imgfile": "75974_470581636313725_486993529_n_VMKEv1A.jpg",
            "position": 63,
        }, {
            "imgfile": "meg_EKFEOP9.png",
            "position": 25,
        }, {
            "imgfile": "1517630_10202793579344683_2063124824_n_bmkq6bA.jpg",
            "position": 97,
        }, {
            "imgfile": "1074362_503744583033154_609991108_o_sBiv5dQ.jpg",
            "position": 27,
        }, {
            "imgfile": "10616118_10201899683647673_8624705728398695924_n.jpg",
            "position": 82,
        }, {
            "imgfile": "14big_q23vKkL.jpeg",
            "position": 61,
        }, {
            "imgfile": "christina_cvHopZ7.png",
            "position": 98,
        }, {
            "imgfile": "kira_makeup_orly_jHKSuFu.png",
            "position": 99,
        }, {
            "imgfile": "edita2.jpg",
            "position": 97,
        }, {
            "imgfile": "as3_TmDzBwE.jpg",
            "position": 98,
        }, {
            "imgfile": "unnameddgd_egI2JIU.jpg",
            "position": 97,
        }, {
            "imgfile": "1013413_10101166940668921_990566507_n_cS9L8Sa.jpg",
            "position": 99,
        }, {
            "imgfile": "18big_n2LQUMO.jpeg",
            "position": 94,
        }, {
            "imgfile": "532366_3664451503839_2121934468_n_qk1NnSZ.jpg",
            "position": 77,
        }, {
            "imgfile": "10522751_10201899669527320_1564745971641624897_n.jpg",
            "position": 98,
        }, {
            "imgfile": "k2_zwIyVRX.png",
            "position": 97,
        }, {
            "imgfile": "1268386_10200728554991872_195728736_o_TNMocRW.jpg",
            "position": 93,
        }, {
            "imgfile": "yael_JS67hjF.jpg",
            "position": 96,
        }, {
            "imgfile": "12_big_BmmVFkD.jpeg",
            "position": 97,
        }, {
            "imgfile": "9big_W4dtJUH.png",
            "position": 97,
        }, {
            "imgfile": "4big_5dr8GfZ.jpeg",
            "position": 38,
        }, {
            "imgfile": "toronto-wedding-photography-liberty-village-14_z24mmrM.jpg",
            "position": 3,
        }, {
            "imgfile": "1404603_10153515154745034_87247527_o_ZccFZcq.jpg",
            "position": 99,
        }, {
            "imgfile": "shawna_cVOIh3y.png",
            "position": 99,
        }, {
            "imgfile": "10668811_10154706565200515_7516340405067839121_o.jpg",
            "position": 13,
        }, {
            "imgfile": "1957759_10154706573025515_5096129246879811860_o.jpg",
            "position": 8,
        }, {
            "imgfile": "10511427_10154706567565515_5047829679442090299_o.jpg",
            "position": 12,
        }, {
            "imgfile": "1795209_10154706566715515_6040255515112386566_o.jpg",
            "position": 16,
        }, {
            "imgfile": "10612656_10202123347759136_1044761687620614617_n.jpg",
            "position": 31,
        }, {
            "imgfile": "10636118_10202123349999192_4097062148255722977_n.jpg",
            "position": 6,
        }, {
            "imgfile": "10527744_10202123348599157_4930349822787604822_n.jpg",
            "position": 2,
        }, {
            "imgfile": "10646854_10202193539193804_4368408114636938117_n.jpg",
            "position": 52,
        }, {
            "imgfile": "10468445_10202104747694146_2637820106855982123_n.jpg",
            "position": 72,
        }, {
            "imgfile": "10704175_10152265743170951_2090757081934390578_n.jpg",
            "position": 10,
        }, {
            "imgfile": "DSC_2876-1000x667.jpg",
            "position": 29,
        }, {
            "imgfile": "DSC_2877-1000x667.jpg",
            "position": 18,
        }, {
            "imgfile": "DSC_2925-1000x666.jpg",
            "position": 19,
        }, {
            "imgfile": "1688167_10202076078617437_3085087373453485921_n.jpg",
            "position": 28,
        }, {
            "imgfile": "10341684_10202076068377181_1319474150878211599_n.jpg",
            "position": 41,
        }, {
            "imgfile": "1233992_10202074456096875_6331801665309898028_n.jpg",
            "position": 73,
        }, {
            "imgfile": "1908415_10152332884797654_4544612280168197025_n.jpg",
            "position": 21,
        }, {
            "imgfile": "10537484_10152332880642654_258104399283249235_o.jpg",
            "position": 42,
        }, {
            "imgfile": "10646863_10201972019416022_5311540427550388971_n.jpg",
            "position": 79,
        }, {
            "imgfile": "10616402_10201966020066042_7604524006103175169_n.jpg",
            "position": 34,
        }, {
            "imgfile": "1453335_10201952715053425_14217349470213694_n.jpg",
            "position": 44,
        }, {
            "imgfile": "10409005_10201952640651565_2372794975568079248_n.jpg",
            "position": 45,
        }, {
            "imgfile": "10623041_10201952644051650_90550278617605623_n.jpg",
            "position": 59,
        }, {
            "imgfile": "10352149_10201934623841156_5681888914728231849_n.jpg",
            "position": 66,
        }, {
            "imgfile": "bea4.png",
            "position": 81,
        }, {
            "imgfile": "bea3.png",
            "position": 78,
        }, {
            "imgfile": "amy_4.png",
            "position": 1,
        }, {
            "imgfile": "amy_3.png",
            "position": 0,
        }, {
            "imgfile": "amy.png",
            "position": 5,
        }, {
            "imgfile": "IMG_20140725_175119.jpg",
            "position": 30,
        }, {
            "imgfile": "res_1406322277370.jpg",
            "position": 33,
        }, {
            "imgfile": "10534302_10152300647602717_7670948373902110189_n.jpg",
            "position": 15,
        }, {
            "imgfile": "10487326_10152300647522717_7999234094685868203_n.jpg",
            "position": 17,
        }, {
            "imgfile": "10583944_10201782349754399_4145150083535382938_n.jpg",
            "position": 37,
        }, {
            "imgfile": "ASHLEY.jpg",
            "position": 40,
        }, {
            "imgfile": "ashley20and20geoffrey20color20web-19.jpg",
            "position": 62,
        }, {
            "imgfile": "10417452_10201546089728046_5681221589799111758_n.jpg",
            "position": 69,
        }, {
            "imgfile": "10447507_10201561874562657_9048700307525367908_n.jpg",
            "position": 65,
        }, {
            "imgfile": "10155446_10101613308678851_2145639924888731125_n.jpg",
            "position": 60,
        }, {
            "imgfile": "collage_15.png",
            "position": 76,
        }]
